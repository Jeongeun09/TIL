JVM( Java Virtual Machine )이란?
===============================

JVM이란 컴퓨터에서 OS(운영체제)를 사용하지 않고 java를 실행하게 할 수 있는 가상 컴퓨터라고 할 수 있다. 
일반적으로 OS에 전달이 되고 바로 하드웨어에서 실행이 가능하지만
java는 JVM을 거치고 OS에 도달하지만 완전히 컴파일이 되지 않고 실행을 할 때 해석되기 때문에 속도가 느리다는 단점이 있다.

_______________ 
JVM은 클래스 로더, 실행 엔진, 메모리 영역으로 이루어져 있다.

## 클래스 로더(Class Loader) 
클래스 로더는 클래스 파일을 찾고 로드하여 실행 시에 클래스를 사용할 수 있게 해주고 로드된 클래스는 메모리 영역에 저장된다. 
클래스 파일의 로딩은 Loading → Linking → Initialization 순으로 진행된다. Loading 단계에서는 클래스 파일을 메모리에 로드한다. 
Linking 단계는 3단계로 나누어질 수 있는데 Verifying(검증), preparing(준비), Resolving(분석)이 있다.
Verifying(검증) 단계는 클래스가 JVM에 명시된 대로 구성이 되어있는지 검증하는 것이다. 
preparing(준비) 단계는 클래스에 필요한 메모리를 할당하는 것이다.
Resolving(분석) 단계는 클래스 내 모든 심볼릭 레퍼런스를 다이렉트 레퍼런스로 변경하는 것이다.
마지막으로 Initialization 단계는 클래스 변수들을 초기화하는 것이다.



-------


## 실행 엔진(Execution Engine) 
실행 엔진은 로드된 클래스 파일을 실행하는 단계이다. 실행 엔진은 바이트 코드를 기계어로 변환하고 실행하여 프로그램을 실행하게 한다. 
실행 엔진은 인터프린터와 JIT 컴파일러가 있다. 인터프린터는 한 번에 한 문장씩 번역하여 실행하기 때문에 속도가 느리다는 단점이 있다. 
JIT 컴파일러는 Just In Time의 약자이고 JIT 컴파일이 실행될 때 실시간으로 일어나기 때문에 Just In Time 이다. JIT 컴파일러는 인터프린터의 단점을 보완하기 위하여 생성된 것이다. 


-----

## 메모리 영역(Runtime Data Area)

 java 프로그램과 관련된 데이터와 자원들이 메모리에 저장되어있다. 메모리 영역에는 메서드 영역(Method Area),
 힙(Heap), 스택(Stack), PC 레지스터(Program Counter Register), 네이티브 메서드 스택(Native Method Stack)가 있다.

 

#### 메서드 영역(Method Area) 
JVM이 동작하고 프로그램이 종료될 때까지 저장되는 메모리 공간, 클래스 내에 static 변수, 클래스 정보, 메서드 정보 등등이 들어가기 때문에 static 영역, 클래스 영역이라고도 부른다.

 

#### 힙 영역(Heap Area) 
객체를 저장하는 메모리 공간, 클래스 내에 선언하는 모든 객체, 인스턴스들이 저장된다.

 

#### 스택 영역(Stack Area) 
메서드 내에서만 사용되는 지역적인 변수들을 저장하는 메모리 공간, 메서드가 호출될 때 하나씩 생성되어 stack 영역이라고 부른다.

 

#### PC 레지스터(Program counter Register) 
스레드마다 하나씩 생성되는 메모리 공간, 현재 실행중인 JVM 명령의 주소값을 저장함. 

 

#### 네이티브 메서드 스택 영역(Native Method Stack Area)
기계어로 변환된 프로그램을 실행시키는 메모리 공간, 또한 java 이외의 다른 언어로 작성된 네이티브 코드들을 실행하기 위한 메모리 공간이기도 함.




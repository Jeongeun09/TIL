ERD란?
=====
Entity Relationship Diagram으로 그대로 엔티티 간의 관계를 다이어그램으로 나타낸 것이다. 데이터 베이스의 구조와 각 엔티티가 가지고 있는 속성인 Colum, 엔티티 관계를 시각적으로 표현한다.

구성 요소

- 엔티티 - 테이블로 구현
- 속성(Colum) - PK(기본키), FK(외래키)표시
- 관계 - 다양한 관계를 나타냄
- Optionality, 카디널리티 표현

PK란?

Primary Key라는 것으로 기본 키라고 한다. 엔티티 테이블 내에서 각 행을 식별하는 속성이다.

특징

- 중복 값이 없어야 한다.
- NULL 값이 될 수 없다.
- 한 테이블 당 하나만 존재한다.

FK란?

Foreign Key로 외래키라고 한다. 다른 테이블의 PK를 참조하는 역할의 속성이다.

역할

- 참조 무결성 유지 → FK 값은 반드시 값이 존재하는 참조 대상 테이블의 PK 값이어야 한다.
- 두 테이블 연결한다.

카디널리티란?

→ 두 엔티티 간의 연결될 수 있는 객체 수의 범위이다. 

종류

1. 1:1(One to One)
- 한 쪽 엔티티의 한 객체는 다른 쪽 엔티티의 한 객체에만 연결 가능하다.
1. 1:N(One to Many)
- 한 쪽은 여러 개와 연결 가능, 반대쪽은 하나만 연결 가능
1. M:N(Many to Many)
- 양 쪽 모두 여러 개 연결 가능 → 중간 테이블 사용해야한다.

중간 테이블을 사용해야 하는 이유?

→ M:N은 한 쪽에서 여러 개와 연결이 가능하고 다른 쪽에서도 여러 개가 연결이 가능하기 때문에 데이터베이스 테이블 구조에서는 표현하지 못한다. 그렇기 때문에 중간 테이블을 생성하여 두 개의 1:N 관계를 나타낸다.

Optionality

관계에 속하는 엔티티의 속성, 관계가 필수인지 선택인지 표현하는 것이다.

종류

- Mandatory (필수) - 반드시 값이 있어야 할 때
- Optional (선택) - 값이 없어도 될 때 (NULL이 허용)

---

ERD를 사용하면 좋은 이유

1. 요구 사항들을 데이터 부분에서 정리가능 - 누가 어떤 것을 저장하고 싶은지 시각적으로 확인이 가능하다.
2. 기획, 테스트 협업 효율 향상, 오해 감소
3. 중복 데이터 문제를 조기 발견 후 대처 가능
4. 유지보수, 영향분석이 수월

ERD 그릴 때 주의할 사항

- 비즈니스 규칙 반영
- 표기법 통일
- M:N 관걔는 반드시 연결 테이블로 표기
- 라인 교차, 복잡도 줄이기

ERD 단점

1. 정적인 구조만 표현 가능

→ 데이터 구조에만 집중하기 때문에 비즈니스 로직, 프로세스를 표현하지 못한다.

1. 복잡성이 커질 수 있음

→ 프로젝트 규모가 커지면서 테이블이 수십~수백 개로 늘어나게 됐을 때 선이 얽히고 가독성이 떨어진다.

1. 해석 차이 발생

→ ERD를 나타내는 표기법이 여러 가지이기 때문에 다른 표기법을 쓰는 사람들은 해석이 달라질 수 있다.

1. 변경, 관리가 어려움

→ 서비스가 커지고 스키마 변경이 잦아지게 되면 ERD를 최신 상태로 유지하기 힘들다.

1. 관계형 모델에서만 적합

→ ERD는 관계를 나타내기 때문에 관계형 데이터 베이스에 최적화되어 있기 때문에 NoSQL과 같은 비관계형 DB에는  적합하지 않다.
